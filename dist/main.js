(()=>{"use strict";const t=async t=>{const n=await(async t=>{try{const[e,n,o]=await Promise.all([async function(){const e=await fetch(`https://api.openweathermap.org/data/2.5/weather?q=${t}&appid=8c37a0de3d0f3764695df622cf71fa1e&units=metric`,{mode:"cors"});return await e.json()}(),async function(){const e=await fetch(`https://api.openweathermap.org/data/2.5/forecast?q=${t}&appid=8c37a0de3d0f3764695df622cf71fa1e&units=metric`,{mode:"cors"});return await e.json()}(),async function(){const e=await fetch(`https://api.weatherapi.com/v1/forecast.json?key=0479021aa782499c879102938231804&q=${t}&days=5`,{mode:"cors"});return await e.json()}()]);return{response:e,response2:n,response3:o}}catch(t){console.log(t)}t||(t="london")})(t),o=n.response,a=n.response2,i=n.response3;console.log(i);let s={name:"",condition:"",temp_c:"",icon:""};s.name=o.name,s.condition=o.weather[0].description,s.temp_c=o.main.temp,s.icon=o.weather[0].icon,e.displayCurrentForecastData(s);let c={time:[],icon:[],temp_c:[]};for(let t=0;t<a.list.length;t++){c.temp_c.push(parseInt(a.list[t].main.temp)),c.icon.push(a.list[t].weather[0].icon);let e=a.list[t].dt_txt.split(/[/ :]/);e[1]+=":00",c.time.push(e[1])}e.display12hForecastData(c);const d=()=>{const t=new Date;let e=t.getDate(),n=t.getMonth()+1,o=t.getFullYear();return parseInt(e)<10&&(e=`0${e}`),parseInt(n)<10&&(n=`0${n}`),`${o}-${n}-${e}`};let r={time:["today"],icon:[o.weather[0].icon],temp_c:[o.main.temp]};function l(t){let e=t.split("-");return new Date(e[0],e[1]-1,e[2])}for(let t=1;t<i.forecast.forecastday.length;t++){const e=i.forecast.forecastday[t].date,n=0==(p=l(e).getDay())?"Sunday":1==p?"Monday":2==p?"Tuesday":3==p?"Wednesday":4==p?"Thursday":5==p?"Friday":"Saturday";1===t&&e==d()||(r.time.push(n),r.icon.push(a.list[t].weather[0].icon))}var p;console.log(r),console.log(o),console.log(a)},e=(document.getElementById("container").innerHTML='\n    <div id="column1">\n      <nav id="nav">\n          <form id="form">\n            <input type="search" id="search" placeholder="Search for cities"/>\n            <button type="submit" ><i class="fa fa-search"></i></button>\n          </form>\n        </nav>\n        <div id="box">\n          <div id="box-1">\n            <div id="loc-con">\n              <h1 id="location"></h1>\n              <p id="condition"></p>\n            </div>\n            <h1 id="temp-c"></h1>\n          </div>\n          <div id="box-2">\n            <img id="icon" />\n          </div>\n        </div>\n        <div id="forecast-12hr">\n          <p>12 hour forecast</p>\n          <div id="forecast-12hr-divbox">\n            <div class="forecast-12hr-div"></div>\n            <div class="forecast-12hr-div"></div>\n            <div class="forecast-12hr-div"></div>\n            <div class="forecast-12hr-div"></div>\n            <div class="forecast-12hr-div"></div>\n          </div>\n        </div>\n      </div>\n      <div id="column2">\n        <div id="forecast-5days">\n        <div class="forecast-5days-div"></div>\n        <div class="forecast-5days-div"></div>\n        <div class="forecast-5days-div"></div>\n        <div class="forecast-5days-div"></div>\n        <div class="forecast-5days-div"></div>\n        </div>\n      </div>',(()=>{const e=document.getElementById("form"),n=document.getElementById("search");e.addEventListener("submit",(e=>{t(n.value),console.log("Lol"),e.preventDefault()}))})(),{displayCurrentForecastData:t=>{const e=document.getElementById("location"),n=document.getElementById("condition"),o=document.getElementById("temp-c"),a=document.getElementById("icon");e.textContent=t.name,n.textContent=t.condition,o.textContent=parseInt(t.temp_c)+"°",a.src=`https://openweathermap.org/img/wn/${t.icon}@4x.png`},display12hForecastData:t=>{const e=document.querySelectorAll(".forecast-12hr-div");console.log("dijk");for(let n=0;n<5;n++)e[n].innerHTML=`<p>${t.time[n]}</p><img src="https://openweathermap.org/img/wn/${t.icon[n]}@2x.png"/><p>${t.temp_c[n]}°</p>`}});document.addEventListener("DOMContentLoaded",(()=>{t("London")}))})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QixTQUFTSyxpQkFBaUIsb0JBQW9CLEtBQzVDbEUsRUFBZ0IsU0FBUyxHIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vd2VhdGhlcmFwcC8uL3NyYy9BUEkuanMiLCJ3ZWJwYWNrOi8vd2VhdGhlcmFwcC8uL3NyYy9BUElEYXRhSGFuZGxpbmcuanMiLCJ3ZWJwYWNrOi8vd2VhdGhlcmFwcC8uL3NyYy9VSS5qcyIsIndlYnBhY2s6Ly93ZWF0aGVyYXBwLy4vc3JjL2luZGV4LmpzIl0sInNvdXJjZXNDb250ZW50IjpbImNvbnN0IGdldEFQSSA9IGFzeW5jIChzZWFyY2hWYWx1ZSkgPT4ge1xyXG4gIC8qXHJcbiAgICBpZiAoIXNlYXJjaFZhbHVlKSB7XHJcbiAgICAgIHNlYXJjaFZhbHVlID0gXCJsb25kb25cIjtcclxuICAgIH1cclxuICAgIHRyeSB7XHJcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goXHJcbiAgICAgICAgYGh0dHBzOi8vYXBpLm9wZW53ZWF0aGVybWFwLm9yZy9kYXRhLzIuNS93ZWF0aGVyP3E9JHtzZWFyY2hWYWx1ZX0mYXBwaWQ9OGMzN2EwZGUzZDBmMzc2NDY5NWRmNjIyY2Y3MWZhMWUmdW5pdHM9bWV0cmljYCxcclxuICAgICAgICB7IG1vZGU6IFwiY29yc1wiIH1cclxuICAgICAgKTtcclxuICAgICAgY29uc3QgcmVzcG9uc2UyID0gYXdhaXQgZmV0Y2goXHJcbiAgICAgICAgYGh0dHBzOi8vYXBpLm9wZW53ZWF0aGVybWFwLm9yZy9kYXRhLzIuNS9mb3JlY2FzdD9xPSR7c2VhcmNoVmFsdWV9JmFwcGlkPThjMzdhMGRlM2QwZjM3NjQ2OTVkZjYyMmNmNzFmYTFlJnVuaXRzPW1ldHJpY2AsXHJcbiAgICAgICAgeyBtb2RlOiBcImNvcnNcIiB9XHJcbiAgICAgICk7XHJcblxyXG4gICAgICBjb25zdCBjdXJyZW50V2VhdGhlckRhdGEgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XHJcbiAgICAgIGNvbnN0IHdlYXRoZXJEYXRhMTJociA9IGF3YWl0IHJlc3BvbnNlMi5qc29uKCk7XHJcblxyXG4gICAgICBcclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgIGNvbnNvbGUubG9nKGVycm9yKTtcclxuICAgIH1cclxuICAgICovXHJcbiAgdHJ5IHtcclxuICAgIGNvbnN0IFtyZXNwb25zZSwgcmVzcG9uc2UyLCByZXNwb25zZTNdID0gYXdhaXQgUHJvbWlzZS5hbGwoW1xyXG4gICAgICBmZXRjaEN1cnJlbnRXZWF0aGVyKCksXHJcbiAgICAgIGZldGNoMTJoV2VhdGhlcigpLFxyXG4gICAgICBmZXRjaDVEYXlzV2VhdGhlcigpLFxyXG4gICAgXSk7XHJcbiAgICByZXR1cm4geyByZXNwb25zZSwgcmVzcG9uc2UyLCByZXNwb25zZTMgfTtcclxuICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgY29uc29sZS5sb2coZXJyb3IpO1xyXG4gIH1cclxuXHJcbiAgaWYgKCFzZWFyY2hWYWx1ZSkge1xyXG4gICAgc2VhcmNoVmFsdWUgPSBcImxvbmRvblwiO1xyXG4gIH1cclxuXHJcbiAgYXN5bmMgZnVuY3Rpb24gZmV0Y2hDdXJyZW50V2VhdGhlcigpIHtcclxuICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goXHJcbiAgICAgIGBodHRwczovL2FwaS5vcGVud2VhdGhlcm1hcC5vcmcvZGF0YS8yLjUvd2VhdGhlcj9xPSR7c2VhcmNoVmFsdWV9JmFwcGlkPThjMzdhMGRlM2QwZjM3NjQ2OTVkZjYyMmNmNzFmYTFlJnVuaXRzPW1ldHJpY2AsXHJcbiAgICAgIHsgbW9kZTogXCJjb3JzXCIgfVxyXG4gICAgKTtcclxuICAgIHJldHVybiBhd2FpdCByZXNwb25zZS5qc29uKCk7XHJcbiAgfVxyXG4gIGFzeW5jIGZ1bmN0aW9uIGZldGNoMTJoV2VhdGhlcigpIHtcclxuICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goXHJcbiAgICAgIGBodHRwczovL2FwaS5vcGVud2VhdGhlcm1hcC5vcmcvZGF0YS8yLjUvZm9yZWNhc3Q/cT0ke3NlYXJjaFZhbHVlfSZhcHBpZD04YzM3YTBkZTNkMGYzNzY0Njk1ZGY2MjJjZjcxZmExZSZ1bml0cz1tZXRyaWNgLFxyXG4gICAgICB7IG1vZGU6IFwiY29yc1wiIH1cclxuICAgICk7XHJcbiAgICByZXR1cm4gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xyXG4gIH1cclxuICBhc3luYyBmdW5jdGlvbiBmZXRjaDVEYXlzV2VhdGhlcigpIHtcclxuICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goXHJcbiAgICAgIGBodHRwczovL2FwaS53ZWF0aGVyYXBpLmNvbS92MS9mb3JlY2FzdC5qc29uP2tleT0wNDc5MDIxYWE3ODI0OTljODc5MTAyOTM4MjMxODA0JnE9JHtzZWFyY2hWYWx1ZX0mZGF5cz01YCxcclxuICAgICAgeyBtb2RlOiBcImNvcnNcIiB9XHJcbiAgICApO1xyXG4gICAgcmV0dXJuIGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcclxuICB9XHJcbn07XHJcbmV4cG9ydCB7IGdldEFQSSB9O1xyXG4iLCJpbXBvcnQgeyBVSU1hbmFnZXIgfSBmcm9tIFwiLi9VSVwiO1xyXG5pbXBvcnQgeyBnZXRBUEkgfSBmcm9tIFwiLi9BUElcIjtcclxuXHJcbmNvbnN0IEFQSURhdGFIYW5kbGluZyA9IGFzeW5jIChzZWFyY2hWYWx1ZSkgPT4ge1xyXG4gIGNvbnN0IGRhdGEgPSBhd2FpdCBnZXRBUEkoc2VhcmNoVmFsdWUpO1xyXG5cclxuICBjb25zdCBjdXJyZW50V2VhdGhlckRhdGEgPSBkYXRhLnJlc3BvbnNlO1xyXG4gIGNvbnN0IHdlYXRoZXJEYXRhMTJociA9IGRhdGEucmVzcG9uc2UyO1xyXG4gIGNvbnN0IHdlYXRoZXJEYXRhNURheXMgPSBkYXRhLnJlc3BvbnNlMztcclxuICBjb25zb2xlLmxvZyh3ZWF0aGVyRGF0YTVEYXlzKTtcclxuXHJcbiAgbGV0IHVzZWRDdXJyZW50V2VhdGhlckRhdGEgPSB7XHJcbiAgICBuYW1lOiBcIlwiLFxyXG4gICAgY29uZGl0aW9uOiBcIlwiLFxyXG4gICAgdGVtcF9jOiBcIlwiLFxyXG4gICAgaWNvbjogXCJcIixcclxuICB9O1xyXG5cclxuICB1c2VkQ3VycmVudFdlYXRoZXJEYXRhLm5hbWUgPSBjdXJyZW50V2VhdGhlckRhdGEubmFtZTtcclxuICB1c2VkQ3VycmVudFdlYXRoZXJEYXRhLmNvbmRpdGlvbiA9IGN1cnJlbnRXZWF0aGVyRGF0YS53ZWF0aGVyWzBdLmRlc2NyaXB0aW9uO1xyXG4gIHVzZWRDdXJyZW50V2VhdGhlckRhdGEudGVtcF9jID0gY3VycmVudFdlYXRoZXJEYXRhLm1haW4udGVtcDtcclxuICB1c2VkQ3VycmVudFdlYXRoZXJEYXRhLmljb24gPSBjdXJyZW50V2VhdGhlckRhdGEud2VhdGhlclswXS5pY29uO1xyXG5cclxuICBVSU1hbmFnZXIuZGlzcGxheUN1cnJlbnRGb3JlY2FzdERhdGEodXNlZEN1cnJlbnRXZWF0aGVyRGF0YSk7XHJcblxyXG4gIGxldCB1c2VkV2VhdGhlckRhdGExMmhyID0ge1xyXG4gICAgdGltZTogW10sXHJcbiAgICBpY29uOiBbXSxcclxuICAgIHRlbXBfYzogW10sXHJcbiAgfTtcclxuXHJcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCB3ZWF0aGVyRGF0YTEyaHIubGlzdC5sZW5ndGg7IGkrKykge1xyXG4gICAgdXNlZFdlYXRoZXJEYXRhMTJoci50ZW1wX2MucHVzaChcclxuICAgICAgcGFyc2VJbnQod2VhdGhlckRhdGExMmhyLmxpc3RbaV0ubWFpbi50ZW1wKVxyXG4gICAgKTtcclxuICAgIHVzZWRXZWF0aGVyRGF0YTEyaHIuaWNvbi5wdXNoKHdlYXRoZXJEYXRhMTJoci5saXN0W2ldLndlYXRoZXJbMF0uaWNvbik7XHJcblxyXG4gICAgY29uc3QgZHQgPSB3ZWF0aGVyRGF0YTEyaHIubGlzdFtpXS5kdF90eHQ7XHJcbiAgICBsZXQgdGltZSA9IGR0LnNwbGl0KC9bLyA6XS8pO1xyXG4gICAgdGltZVsxXSArPSBcIjowMFwiO1xyXG5cclxuICAgIHVzZWRXZWF0aGVyRGF0YTEyaHIudGltZS5wdXNoKHRpbWVbMV0pO1xyXG4gIH1cclxuICBVSU1hbmFnZXIuZGlzcGxheTEyaEZvcmVjYXN0RGF0YSh1c2VkV2VhdGhlckRhdGExMmhyKTtcclxuXHJcbiAgY29uc3QgZ2V0Q3VycmVudERhdGUgPSAoKSA9PiB7XHJcbiAgICBjb25zdCBkYXRlID0gbmV3IERhdGUoKTtcclxuXHJcbiAgICBsZXQgZGF5ID0gZGF0ZS5nZXREYXRlKCk7XHJcbiAgICBsZXQgbW9udGggPSBkYXRlLmdldE1vbnRoKCkgKyAxO1xyXG4gICAgbGV0IHllYXIgPSBkYXRlLmdldEZ1bGxZZWFyKCk7XHJcblxyXG4gICAgaWYgKHBhcnNlSW50KGRheSkgPCAxMCkge1xyXG4gICAgICBkYXkgPSBgMCR7ZGF5fWA7XHJcbiAgICB9XHJcbiAgICBpZiAocGFyc2VJbnQobW9udGgpIDwgMTApIHtcclxuICAgICAgbW9udGggPSBgMCR7bW9udGh9YDtcclxuICAgIH1cclxuICAgIGxldCBjdXJyZW50RGF0ZSA9IGAke3llYXJ9LSR7bW9udGh9LSR7ZGF5fWA7XHJcblxyXG4gICAgcmV0dXJuIGN1cnJlbnREYXRlO1xyXG4gIH07XHJcblxyXG4gIGxldCB1c2VkV2VhdGhlckRhdGE1RGF5cyA9IHtcclxuICAgIHRpbWU6IFtcInRvZGF5XCJdLFxyXG4gICAgaWNvbjogW2N1cnJlbnRXZWF0aGVyRGF0YS53ZWF0aGVyWzBdLmljb25dLFxyXG4gICAgdGVtcF9jOiBbY3VycmVudFdlYXRoZXJEYXRhLm1haW4udGVtcF0sXHJcbiAgfTtcclxuICBmdW5jdGlvbiBwYXJzZURhdGUoaW5wdXQpIHtcclxuICAgIGxldCBwYXJ0cyA9IGlucHV0LnNwbGl0KFwiLVwiKTtcclxuICAgIHJldHVybiBuZXcgRGF0ZShwYXJ0c1swXSwgcGFydHNbMV0gLSAxLCBwYXJ0c1syXSk7XHJcbiAgfVxyXG4gIGZ1bmN0aW9uIGdldE5hbWUoZGF5KSB7XHJcbiAgICBpZiAoZGF5ID09IDApIHJldHVybiBcIlN1bmRheVwiO1xyXG4gICAgZWxzZSBpZiAoZGF5ID09IDEpIHJldHVybiBcIk1vbmRheVwiO1xyXG4gICAgZWxzZSBpZiAoZGF5ID09IDIpIHJldHVybiBcIlR1ZXNkYXlcIjtcclxuICAgIGVsc2UgaWYgKGRheSA9PSAzKSByZXR1cm4gXCJXZWRuZXNkYXlcIjtcclxuICAgIGVsc2UgaWYgKGRheSA9PSA0KSByZXR1cm4gXCJUaHVyc2RheVwiO1xyXG4gICAgZWxzZSBpZiAoZGF5ID09IDUpIHJldHVybiBcIkZyaWRheVwiO1xyXG4gICAgcmV0dXJuIFwiU2F0dXJkYXlcIjtcclxuICB9XHJcbiAgZm9yIChsZXQgaSA9IDE7IGkgPCB3ZWF0aGVyRGF0YTVEYXlzLmZvcmVjYXN0LmZvcmVjYXN0ZGF5Lmxlbmd0aDsgaSsrKSB7XHJcbiAgICBjb25zdCBkdCA9IHdlYXRoZXJEYXRhNURheXMuZm9yZWNhc3QuZm9yZWNhc3RkYXlbaV0uZGF0ZTtcclxuICAgIGNvbnN0IGRhdGUgPSBwYXJzZURhdGUoZHQpO1xyXG4gICAgY29uc3QgZGF5TmFtZSA9IGdldE5hbWUoZGF0ZS5nZXREYXkoKSk7XHJcblxyXG4gICAgaWYgKGkgPT09IDEgJiYgZHQgPT0gZ2V0Q3VycmVudERhdGUoKSkge1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdXNlZFdlYXRoZXJEYXRhNURheXMudGltZS5wdXNoKGRheU5hbWUpO1xyXG5cclxuICAgICAgdXNlZFdlYXRoZXJEYXRhNURheXMuaWNvbi5wdXNoKHdlYXRoZXJEYXRhMTJoci5saXN0W2ldLndlYXRoZXJbMF0uaWNvbik7XHJcbiAgICB9XHJcbiAgfVxyXG4gIGNvbnNvbGUubG9nKHVzZWRXZWF0aGVyRGF0YTVEYXlzKTtcclxuXHJcbiAgY29uc29sZS5sb2coY3VycmVudFdlYXRoZXJEYXRhKTtcclxuICBjb25zb2xlLmxvZyh3ZWF0aGVyRGF0YTEyaHIpO1xyXG59O1xyXG5cclxuZXhwb3J0IHsgQVBJRGF0YUhhbmRsaW5nIH07XHJcbiIsImltcG9ydCB7IEFQSSB9IGZyb20gXCIuL0FQSVwiO1xyXG5pbXBvcnQgeyBBUElEYXRhSGFuZGxpbmcgfSBmcm9tIFwiLi9BUElEYXRhSGFuZGxpbmdcIjtcclxuXHJcbmNvbnN0IFVJTWFuYWdlciA9ICgoKSA9PiB7XHJcbiAgY29uc3QgY29udGFpbmVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJjb250YWluZXJcIik7XHJcblxyXG4gIGNvbnN0IGluaXRpYWxQYWdlID0gKCgpID0+IHtcclxuICAgIGNvbnRhaW5lci5pbm5lckhUTUwgPSBgXHJcbiAgICA8ZGl2IGlkPVwiY29sdW1uMVwiPlxyXG4gICAgICA8bmF2IGlkPVwibmF2XCI+XHJcbiAgICAgICAgICA8Zm9ybSBpZD1cImZvcm1cIj5cclxuICAgICAgICAgICAgPGlucHV0IHR5cGU9XCJzZWFyY2hcIiBpZD1cInNlYXJjaFwiIHBsYWNlaG9sZGVyPVwiU2VhcmNoIGZvciBjaXRpZXNcIi8+XHJcbiAgICAgICAgICAgIDxidXR0b24gdHlwZT1cInN1Ym1pdFwiID48aSBjbGFzcz1cImZhIGZhLXNlYXJjaFwiPjwvaT48L2J1dHRvbj5cclxuICAgICAgICAgIDwvZm9ybT5cclxuICAgICAgICA8L25hdj5cclxuICAgICAgICA8ZGl2IGlkPVwiYm94XCI+XHJcbiAgICAgICAgICA8ZGl2IGlkPVwiYm94LTFcIj5cclxuICAgICAgICAgICAgPGRpdiBpZD1cImxvYy1jb25cIj5cclxuICAgICAgICAgICAgICA8aDEgaWQ9XCJsb2NhdGlvblwiPjwvaDE+XHJcbiAgICAgICAgICAgICAgPHAgaWQ9XCJjb25kaXRpb25cIj48L3A+XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICA8aDEgaWQ9XCJ0ZW1wLWNcIj48L2gxPlxyXG4gICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICA8ZGl2IGlkPVwiYm94LTJcIj5cclxuICAgICAgICAgICAgPGltZyBpZD1cImljb25cIiAvPlxyXG4gICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgPGRpdiBpZD1cImZvcmVjYXN0LTEyaHJcIj5cclxuICAgICAgICAgIDxwPjEyIGhvdXIgZm9yZWNhc3Q8L3A+XHJcbiAgICAgICAgICA8ZGl2IGlkPVwiZm9yZWNhc3QtMTJoci1kaXZib3hcIj5cclxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImZvcmVjYXN0LTEyaHItZGl2XCI+PC9kaXY+XHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJmb3JlY2FzdC0xMmhyLWRpdlwiPjwvZGl2PlxyXG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZm9yZWNhc3QtMTJoci1kaXZcIj48L2Rpdj5cclxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImZvcmVjYXN0LTEyaHItZGl2XCI+PC9kaXY+XHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJmb3JlY2FzdC0xMmhyLWRpdlwiPjwvZGl2PlxyXG4gICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgPC9kaXY+XHJcbiAgICAgIDwvZGl2PlxyXG4gICAgICA8ZGl2IGlkPVwiY29sdW1uMlwiPlxyXG4gICAgICAgIDxkaXYgaWQ9XCJmb3JlY2FzdC01ZGF5c1wiPlxyXG4gICAgICAgIDxkaXYgY2xhc3M9XCJmb3JlY2FzdC01ZGF5cy1kaXZcIj48L2Rpdj5cclxuICAgICAgICA8ZGl2IGNsYXNzPVwiZm9yZWNhc3QtNWRheXMtZGl2XCI+PC9kaXY+XHJcbiAgICAgICAgPGRpdiBjbGFzcz1cImZvcmVjYXN0LTVkYXlzLWRpdlwiPjwvZGl2PlxyXG4gICAgICAgIDxkaXYgY2xhc3M9XCJmb3JlY2FzdC01ZGF5cy1kaXZcIj48L2Rpdj5cclxuICAgICAgICA8ZGl2IGNsYXNzPVwiZm9yZWNhc3QtNWRheXMtZGl2XCI+PC9kaXY+XHJcbiAgICAgICAgPC9kaXY+XHJcbiAgICAgIDwvZGl2PmA7XHJcbiAgfSkoKTtcclxuXHJcbiAgY29uc3Qgc2VhcmNoUGxhY2UgPSAoKCkgPT4ge1xyXG4gICAgY29uc3QgZm9ybSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiZm9ybVwiKTtcclxuICAgIGNvbnN0IHNlYXJjaCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwic2VhcmNoXCIpO1xyXG5cclxuICAgIGZvcm0uYWRkRXZlbnRMaXN0ZW5lcihcInN1Ym1pdFwiLCAoZSkgPT4ge1xyXG4gICAgICBBUElEYXRhSGFuZGxpbmcoc2VhcmNoLnZhbHVlKTtcclxuICAgICAgY29uc29sZS5sb2coXCJMb2xcIik7XHJcbiAgICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgIH0pO1xyXG4gIH0pKCk7XHJcblxyXG4gIGNvbnN0IGRpc3BsYXlDdXJyZW50Rm9yZWNhc3REYXRhID0gKGRhdGEpID0+IHtcclxuICAgIGNvbnN0IGxvY2F0aW9uID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJsb2NhdGlvblwiKTtcclxuICAgIGNvbnN0IGNvbmRpdGlvbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiY29uZGl0aW9uXCIpO1xyXG4gICAgY29uc3QgdGVtcEMgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInRlbXAtY1wiKTtcclxuICAgIGNvbnN0IGljb24gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImljb25cIik7XHJcblxyXG4gICAgbG9jYXRpb24udGV4dENvbnRlbnQgPSBkYXRhLm5hbWU7XHJcbiAgICBjb25kaXRpb24udGV4dENvbnRlbnQgPSBkYXRhLmNvbmRpdGlvbjtcclxuICAgIHRlbXBDLnRleHRDb250ZW50ID0gcGFyc2VJbnQoZGF0YS50ZW1wX2MpICsgXCLCsFwiO1xyXG4gICAgaWNvbi5zcmMgPSBgaHR0cHM6Ly9vcGVud2VhdGhlcm1hcC5vcmcvaW1nL3duLyR7ZGF0YS5pY29ufUA0eC5wbmdgO1xyXG4gIH07XHJcbiAgY29uc3QgZGlzcGxheTEyaEZvcmVjYXN0RGF0YSA9IChkYXRhMTJoKSA9PiB7XHJcbiAgICBjb25zdCBkaXZzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5mb3JlY2FzdC0xMmhyLWRpdlwiKTtcclxuICAgIGNvbnNvbGUubG9nKFwiZGlqa1wiKTtcclxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgNTsgaSsrKSB7XHJcbiAgICAgIGRpdnNbXHJcbiAgICAgICAgaVxyXG4gICAgICBdLmlubmVySFRNTCA9IGA8cD4ke2RhdGExMmgudGltZVtpXX08L3A+PGltZyBzcmM9XCJodHRwczovL29wZW53ZWF0aGVybWFwLm9yZy9pbWcvd24vJHtkYXRhMTJoLmljb25baV19QDJ4LnBuZ1wiLz48cD4ke2RhdGExMmgudGVtcF9jW2ldfcKwPC9wPmA7XHJcbiAgICB9XHJcbiAgfTtcclxuICBjb25zdCBkaXNwbGF5NURheXNGb3JlY2FzdERhdGEgPSAoZGF0YTVEYXlzKSA9PiB7XHJcbiAgICBjb25zdCBkaXZzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5mb3JlY2FzdC01ZGF5cy1kaXZcIik7XHJcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGRpdnMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgZGl2c1tcclxuICAgICAgICBpXHJcbiAgICAgIF0uaW5uZXJIVE1MID0gYDxwPiR7ZGF0YTVEYXlzLnRpbWVbaV19PC9wPjxpbWcgc3JjPVwiaHR0cHM6Ly9vcGVud2VhdGhlcm1hcC5vcmcvaW1nL3duLyR7ZGF0YTVEYXlzLmljb25baV19QDJ4LnBuZ1wiLz48cD4ke2RhdGE1RGF5cy50ZW1wX2NbaV19wrA8L3A+YDtcclxuICAgIH1cclxuICB9O1xyXG4gIHJldHVybiB7IGRpc3BsYXlDdXJyZW50Rm9yZWNhc3REYXRhLCBkaXNwbGF5MTJoRm9yZWNhc3REYXRhIH07XHJcbn0pKCk7XHJcblxyXG5leHBvcnQgeyBVSU1hbmFnZXIgfTtcclxuIiwiaW1wb3J0IHsgZ2V0QVBJIH0gZnJvbSBcIi4vQVBJXCI7XHJcbmltcG9ydCB7IFVJTWFuYWdlciB9IGZyb20gXCIuL1VJXCI7XHJcbmltcG9ydCB7IEFQSURhdGFIYW5kbGluZyB9IGZyb20gXCIuL0FQSURhdGFIYW5kbGluZ1wiO1xyXG5cclxuZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcIkRPTUNvbnRlbnRMb2FkZWRcIiwgKCkgPT4ge1xyXG4gIEFQSURhdGFIYW5kbGluZyhcIkxvbmRvblwiKTtcclxufSk7XHJcbiJdLCJuYW1lcyI6WyJBUElEYXRhSGFuZGxpbmciLCJhc3luYyIsInNlYXJjaFZhbHVlIiwiZGF0YSIsInJlc3BvbnNlIiwicmVzcG9uc2UyIiwicmVzcG9uc2UzIiwiUHJvbWlzZSIsImFsbCIsImZldGNoIiwibW9kZSIsImpzb24iLCJmZXRjaEN1cnJlbnRXZWF0aGVyIiwiZmV0Y2gxMmhXZWF0aGVyIiwiZmV0Y2g1RGF5c1dlYXRoZXIiLCJlcnJvciIsImNvbnNvbGUiLCJsb2ciLCJnZXRBUEkiLCJjdXJyZW50V2VhdGhlckRhdGEiLCJ3ZWF0aGVyRGF0YTEyaHIiLCJ3ZWF0aGVyRGF0YTVEYXlzIiwidXNlZEN1cnJlbnRXZWF0aGVyRGF0YSIsIm5hbWUiLCJjb25kaXRpb24iLCJ0ZW1wX2MiLCJpY29uIiwid2VhdGhlciIsImRlc2NyaXB0aW9uIiwibWFpbiIsInRlbXAiLCJVSU1hbmFnZXIiLCJkaXNwbGF5Q3VycmVudEZvcmVjYXN0RGF0YSIsInVzZWRXZWF0aGVyRGF0YTEyaHIiLCJ0aW1lIiwiaSIsImxpc3QiLCJsZW5ndGgiLCJwdXNoIiwicGFyc2VJbnQiLCJkdF90eHQiLCJzcGxpdCIsImRpc3BsYXkxMmhGb3JlY2FzdERhdGEiLCJnZXRDdXJyZW50RGF0ZSIsImRhdGUiLCJEYXRlIiwiZGF5IiwiZ2V0RGF0ZSIsIm1vbnRoIiwiZ2V0TW9udGgiLCJ5ZWFyIiwiZ2V0RnVsbFllYXIiLCJ1c2VkV2VhdGhlckRhdGE1RGF5cyIsInBhcnNlRGF0ZSIsImlucHV0IiwicGFydHMiLCJmb3JlY2FzdCIsImZvcmVjYXN0ZGF5IiwiZHQiLCJkYXlOYW1lIiwiZ2V0RGF5IiwiZG9jdW1lbnQiLCJnZXRFbGVtZW50QnlJZCIsImlubmVySFRNTCIsImZvcm0iLCJzZWFyY2giLCJhZGRFdmVudExpc3RlbmVyIiwiZSIsInZhbHVlIiwicHJldmVudERlZmF1bHQiLCJsb2NhdGlvbiIsInRlbXBDIiwidGV4dENvbnRlbnQiLCJzcmMiLCJkYXRhMTJoIiwiZGl2cyIsInF1ZXJ5U2VsZWN0b3JBbGwiXSwic291cmNlUm9vdCI6IiJ9