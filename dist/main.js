(()=>{"use strict";const e=async e=>{const i=await n(e),a=i.response,s=i.response2;let d={name:"",condition:"",temp_c:"",icon:""};d.name=a.name,d.condition=a.weather[0].description,d.temp_c=a.main.temp,d.icon=a.weather[0].icon,t.displayCurrentForecastData(d);let o={time:[],icon:[],temp_c:[]};for(let e=0;e<s.list.length;e++){o.temp_c.push(parseInt(s.list[e].main.temp)),o.icon.push(s.list[e].weather[0].icon);let t=s.list[e].dt_txt.split(/[/ :]/);t[1]+=":00",o.time.push(t[1])}t.display12hForecastData(o);let c={keys:["Feels like","Humidity","Pressure","Temperature","Max temp","Min temp"],values:[]};c.values.push(a.main.feels_like+"°"),c.values.push(a.main.humidity),c.values.push(a.main.pressure),c.values.push(a.main.temp+"°"),c.values.push(a.main.temp_max+"°"),c.values.push(a.main.temp_min+"°"),t.displayDetailedData(c),console.log(c),console.log(a),console.log(s)},t=(document.getElementById("content").innerHTML='\n    <div id="container">\n    <div id="loader-container">\n    <div class="loader"></div>\n    </div>\n      <nav id="nav">\n          <form id="form">\n            <input type="search" id="search" placeholder="Search for cities"/>\n            <button type="submit" ><i class="fa fa-search"></i></button>\n          </form>\n        </nav>\n        <div id="box">\n          <div id="box-1">\n            <div id="loc-con">\n              <h1 id="location"></h1>\n              <p id="condition"></p>\n            </div>\n            <h1 id="temp-c"></h1>\n          </div>\n          <div id="box-2">\n            <img id="icon" />\n          </div>\n        </div>\n        <div id="forecast-12hr">\n          <p>12 hour forecast</p>\n          <div id="forecast-12hr-divbox">\n            <div class="forecast-12hr-div"></div>\n            <div class="forecast-12hr-div"></div>\n            <div class="forecast-12hr-div"></div>\n            <div class="forecast-12hr-div"></div>\n            <div class="forecast-12hr-div"></div>\n          </div>\n        </div>\n        <div id="details">\n          <p>Detailed forecast</p>\n\n          <div class ="details-row">\n           <div class="details-item"></div>\n           <div class="details-item"></div>\n           <div class="details-item"></div>\n          </div>\n          <div class ="details-row">\n           <div class="details-item"></div>\n           <div class="details-item"></div>\n           <div class="details-item"></div>\n           </div>\n        </div>\n      </div>',(()=>{const t=document.getElementById("form"),n=document.getElementById("search");t.addEventListener("submit",(t=>{e(n.value),t.preventDefault()}))})(),{displayCurrentForecastData:e=>{const t=document.getElementById("location"),n=document.getElementById("condition"),i=document.getElementById("temp-c"),a=document.getElementById("icon");t.textContent=e.name,n.textContent=e.condition,i.textContent=parseInt(e.temp_c)+"°",a.src=`https://openweathermap.org/img/wn/${e.icon}@4x.png`},display12hForecastData:e=>{const t=document.querySelectorAll(".forecast-12hr-div");for(let n=0;n<5;n++)t[n].innerHTML=`<p>${e.time[n]}</p><img src="https://openweathermap.org/img/wn/${e.icon[n]}@2x.png"/><p>${e.temp_c[n]}°</p>`},displayDetailedData:e=>{const t=document.querySelectorAll(".details-item");for(let n=0;n<e.keys.length;n++)t[n].innerHTML=`<p>${e.keys[n]}</p>\n      <p>${e.values[n]}</p>`},loadIndicator:e=>{const t=document.getElementById("loader-container");console.log(t),"active"===e?t.classList.add("active"):"done"===e&&t.classList.remove("active")}}),n=async e=>{try{t.loadIndicator("active");const[n,i]=await Promise.all([async function(){const t=await fetch(`https://api.openweathermap.org/data/2.5/weather?q=${e}&appid=8c37a0de3d0f3764695df622cf71fa1e&units=metric`,{mode:"cors"});return await t.json()}(),async function(){const t=await fetch(`https://api.openweathermap.org/data/2.5/forecast?q=${e}&appid=8c37a0de3d0f3764695df622cf71fa1e&units=metric`,{mode:"cors"});return await t.json()}()]);return t.loadIndicator("done"),{response:n,response2:i}}catch(e){console.log(e)}e||(e="london")};e("London")})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUN2QyxJQUFLLElBQUlsQyxFQUFJLEVBQUdBLEVBQUltQyxFQUFhMUIsS0FBS1AsT0FBUUYsSUFDNUNpQyxFQUFLakMsR0FBR3FCLFVBQVksTUFBTWMsRUFBYTFCLEtBQUtULG9CQUN2Q21DLEVBQWF6QixPQUFPVixRQUMzQixFQWlCQW9DLGNBZnFCQyxJQUNyQixNQUFNQyxFQUFTbkIsU0FBU0MsZUFBZSxvQkFDdkNILFFBQVFDLElBQUlvQixHQUVFLFdBQVZELEVBQ0ZDLEVBQU9DLFVBQVVDLElBQUksVUFDRixTQUFWSCxHQUNUQyxFQUFPQyxVQUFVRSxPQUFPLFNBQzFCLElDbEdFM0QsRUFBU0gsTUFBT0MsSUFDcEIsSUFDRWdCLEVBQVV3QyxjQUFjLFVBQ3hCLE1BQU9wRCxFQUFVRSxTQUFtQndELFFBQVFDLElBQUksQ0FlbERoRSxpQkFDRSxNQUFNSyxRQUFpQjRELE1BQ3JCLHFEQUFxRGhFLHdEQUNyRCxDQUFFaUUsS0FBTSxTQUVWLGFBQWE3RCxFQUFTOEQsTUFDeEIsQ0FwQklDLEdBcUJKcEUsaUJBQ0UsTUFBTUssUUFBaUI0RCxNQUNyQixzREFBc0RoRSx3REFDdEQsQ0FBRWlFLEtBQU0sU0FFVixhQUFhN0QsRUFBUzhELE1BQ3hCLENBMUJJRSxLQUlGLE9BRkFwRCxFQUFVd0MsY0FBYyxRQUVqQixDQUFFcEQsV0FBVUUsWUFDckIsQ0FBRSxNQUFPK0QsR0FDUGhDLFFBQVFDLElBQUkrQixFQUNkLENBRUtyRSxJQUNIQSxFQUFjLFNBZ0JoQixFQzdCRkYsRUFBZ0IsUyIsInNvdXJjZXMiOlsid2VicGFjazovL3dlYXRoZXJhcHAvLi9zcmMvQVBJRGF0YUhhbmRsaW5nLmpzIiwid2VicGFjazovL3dlYXRoZXJhcHAvLi9zcmMvVUkuanMiLCJ3ZWJwYWNrOi8vd2VhdGhlcmFwcC8uL3NyYy9BUEkuanMiLCJ3ZWJwYWNrOi8vd2VhdGhlcmFwcC8uL3NyYy9pbmRleC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBVSU1hbmFnZXIgfSBmcm9tIFwiLi9VSVwiO1xyXG5pbXBvcnQgeyBnZXRBUEkgfSBmcm9tIFwiLi9BUElcIjtcclxuXHJcbmNvbnN0IEFQSURhdGFIYW5kbGluZyA9IGFzeW5jIChzZWFyY2hWYWx1ZSkgPT4ge1xyXG4gIGNvbnN0IGRhdGEgPSBhd2FpdCBnZXRBUEkoc2VhcmNoVmFsdWUpO1xyXG4gIGNvbnN0IGN1cnJlbnRXZWF0aGVyRGF0YSA9IGRhdGEucmVzcG9uc2U7XHJcbiAgY29uc3Qgd2VhdGhlckRhdGExMmhyID0gZGF0YS5yZXNwb25zZTI7XHJcblxyXG4gIGxldCB1c2VkQ3VycmVudFdlYXRoZXJEYXRhID0ge1xyXG4gICAgbmFtZTogXCJcIixcclxuICAgIGNvbmRpdGlvbjogXCJcIixcclxuICAgIHRlbXBfYzogXCJcIixcclxuICAgIGljb246IFwiXCIsXHJcbiAgfTtcclxuXHJcbiAgdXNlZEN1cnJlbnRXZWF0aGVyRGF0YS5uYW1lID0gY3VycmVudFdlYXRoZXJEYXRhLm5hbWU7XHJcbiAgdXNlZEN1cnJlbnRXZWF0aGVyRGF0YS5jb25kaXRpb24gPSBjdXJyZW50V2VhdGhlckRhdGEud2VhdGhlclswXS5kZXNjcmlwdGlvbjtcclxuICB1c2VkQ3VycmVudFdlYXRoZXJEYXRhLnRlbXBfYyA9IGN1cnJlbnRXZWF0aGVyRGF0YS5tYWluLnRlbXA7XHJcbiAgdXNlZEN1cnJlbnRXZWF0aGVyRGF0YS5pY29uID0gY3VycmVudFdlYXRoZXJEYXRhLndlYXRoZXJbMF0uaWNvbjtcclxuXHJcbiAgVUlNYW5hZ2VyLmRpc3BsYXlDdXJyZW50Rm9yZWNhc3REYXRhKHVzZWRDdXJyZW50V2VhdGhlckRhdGEpO1xyXG5cclxuICBsZXQgdXNlZFdlYXRoZXJEYXRhMTJociA9IHtcclxuICAgIHRpbWU6IFtdLFxyXG4gICAgaWNvbjogW10sXHJcbiAgICB0ZW1wX2M6IFtdLFxyXG4gIH07XHJcblxyXG4gIGZvciAobGV0IGkgPSAwOyBpIDwgd2VhdGhlckRhdGExMmhyLmxpc3QubGVuZ3RoOyBpKyspIHtcclxuICAgIHVzZWRXZWF0aGVyRGF0YTEyaHIudGVtcF9jLnB1c2goXHJcbiAgICAgIHBhcnNlSW50KHdlYXRoZXJEYXRhMTJoci5saXN0W2ldLm1haW4udGVtcClcclxuICAgICk7XHJcbiAgICB1c2VkV2VhdGhlckRhdGExMmhyLmljb24ucHVzaCh3ZWF0aGVyRGF0YTEyaHIubGlzdFtpXS53ZWF0aGVyWzBdLmljb24pO1xyXG5cclxuICAgIGNvbnN0IGR0ID0gd2VhdGhlckRhdGExMmhyLmxpc3RbaV0uZHRfdHh0O1xyXG4gICAgbGV0IHRpbWUgPSBkdC5zcGxpdCgvWy8gOl0vKTtcclxuICAgIHRpbWVbMV0gKz0gXCI6MDBcIjtcclxuXHJcbiAgICB1c2VkV2VhdGhlckRhdGExMmhyLnRpbWUucHVzaCh0aW1lWzFdKTtcclxuICB9XHJcbiAgVUlNYW5hZ2VyLmRpc3BsYXkxMmhGb3JlY2FzdERhdGEodXNlZFdlYXRoZXJEYXRhMTJocik7XHJcblxyXG4gIGxldCB1c2VkRGV0YWlsZWREYXRhID0ge1xyXG4gICAga2V5czogW1xyXG4gICAgICBcIkZlZWxzIGxpa2VcIixcclxuICAgICAgXCJIdW1pZGl0eVwiLFxyXG4gICAgICBcIlByZXNzdXJlXCIsXHJcbiAgICAgIFwiVGVtcGVyYXR1cmVcIixcclxuICAgICAgXCJNYXggdGVtcFwiLFxyXG4gICAgICBcIk1pbiB0ZW1wXCIsXHJcbiAgICBdLFxyXG4gICAgdmFsdWVzOiBbXSxcclxuICB9O1xyXG5cclxuICB1c2VkRGV0YWlsZWREYXRhLnZhbHVlcy5wdXNoKGN1cnJlbnRXZWF0aGVyRGF0YS5tYWluLmZlZWxzX2xpa2UgKyBcIsKwXCIpO1xyXG4gIHVzZWREZXRhaWxlZERhdGEudmFsdWVzLnB1c2goY3VycmVudFdlYXRoZXJEYXRhLm1haW4uaHVtaWRpdHkpO1xyXG4gIHVzZWREZXRhaWxlZERhdGEudmFsdWVzLnB1c2goY3VycmVudFdlYXRoZXJEYXRhLm1haW4ucHJlc3N1cmUpO1xyXG4gIHVzZWREZXRhaWxlZERhdGEudmFsdWVzLnB1c2goY3VycmVudFdlYXRoZXJEYXRhLm1haW4udGVtcCArIFwiwrBcIik7XHJcbiAgdXNlZERldGFpbGVkRGF0YS52YWx1ZXMucHVzaChjdXJyZW50V2VhdGhlckRhdGEubWFpbi50ZW1wX21heCArIFwiwrBcIik7XHJcbiAgdXNlZERldGFpbGVkRGF0YS52YWx1ZXMucHVzaChjdXJyZW50V2VhdGhlckRhdGEubWFpbi50ZW1wX21pbiArIFwiwrBcIik7XHJcblxyXG4gIFVJTWFuYWdlci5kaXNwbGF5RGV0YWlsZWREYXRhKHVzZWREZXRhaWxlZERhdGEpO1xyXG5cclxuICBjb25zb2xlLmxvZyh1c2VkRGV0YWlsZWREYXRhKTtcclxuICBjb25zb2xlLmxvZyhjdXJyZW50V2VhdGhlckRhdGEpO1xyXG4gIGNvbnNvbGUubG9nKHdlYXRoZXJEYXRhMTJocik7XHJcbn07XHJcblxyXG5leHBvcnQgeyBBUElEYXRhSGFuZGxpbmcgfTtcclxuIiwiaW1wb3J0IHsgQVBJRGF0YUhhbmRsaW5nIH0gZnJvbSBcIi4vQVBJRGF0YUhhbmRsaW5nXCI7XHJcblxyXG5jb25zdCBVSU1hbmFnZXIgPSAoKCkgPT4ge1xyXG4gIGNvbnN0IGNvbnRlbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImNvbnRlbnRcIik7XHJcblxyXG4gIGNvbnN0IGluaXRpYWxQYWdlID0gKCgpID0+IHtcclxuICAgIGNvbnRlbnQuaW5uZXJIVE1MID0gYFxyXG4gICAgPGRpdiBpZD1cImNvbnRhaW5lclwiPlxyXG4gICAgPGRpdiBpZD1cImxvYWRlci1jb250YWluZXJcIj5cclxuICAgIDxkaXYgY2xhc3M9XCJsb2FkZXJcIj48L2Rpdj5cclxuICAgIDwvZGl2PlxyXG4gICAgICA8bmF2IGlkPVwibmF2XCI+XHJcbiAgICAgICAgICA8Zm9ybSBpZD1cImZvcm1cIj5cclxuICAgICAgICAgICAgPGlucHV0IHR5cGU9XCJzZWFyY2hcIiBpZD1cInNlYXJjaFwiIHBsYWNlaG9sZGVyPVwiU2VhcmNoIGZvciBjaXRpZXNcIi8+XHJcbiAgICAgICAgICAgIDxidXR0b24gdHlwZT1cInN1Ym1pdFwiID48aSBjbGFzcz1cImZhIGZhLXNlYXJjaFwiPjwvaT48L2J1dHRvbj5cclxuICAgICAgICAgIDwvZm9ybT5cclxuICAgICAgICA8L25hdj5cclxuICAgICAgICA8ZGl2IGlkPVwiYm94XCI+XHJcbiAgICAgICAgICA8ZGl2IGlkPVwiYm94LTFcIj5cclxuICAgICAgICAgICAgPGRpdiBpZD1cImxvYy1jb25cIj5cclxuICAgICAgICAgICAgICA8aDEgaWQ9XCJsb2NhdGlvblwiPjwvaDE+XHJcbiAgICAgICAgICAgICAgPHAgaWQ9XCJjb25kaXRpb25cIj48L3A+XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICA8aDEgaWQ9XCJ0ZW1wLWNcIj48L2gxPlxyXG4gICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICA8ZGl2IGlkPVwiYm94LTJcIj5cclxuICAgICAgICAgICAgPGltZyBpZD1cImljb25cIiAvPlxyXG4gICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgPGRpdiBpZD1cImZvcmVjYXN0LTEyaHJcIj5cclxuICAgICAgICAgIDxwPjEyIGhvdXIgZm9yZWNhc3Q8L3A+XHJcbiAgICAgICAgICA8ZGl2IGlkPVwiZm9yZWNhc3QtMTJoci1kaXZib3hcIj5cclxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImZvcmVjYXN0LTEyaHItZGl2XCI+PC9kaXY+XHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJmb3JlY2FzdC0xMmhyLWRpdlwiPjwvZGl2PlxyXG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZm9yZWNhc3QtMTJoci1kaXZcIj48L2Rpdj5cclxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImZvcmVjYXN0LTEyaHItZGl2XCI+PC9kaXY+XHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJmb3JlY2FzdC0xMmhyLWRpdlwiPjwvZGl2PlxyXG4gICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgPGRpdiBpZD1cImRldGFpbHNcIj5cclxuICAgICAgICAgIDxwPkRldGFpbGVkIGZvcmVjYXN0PC9wPlxyXG5cclxuICAgICAgICAgIDxkaXYgY2xhc3MgPVwiZGV0YWlscy1yb3dcIj5cclxuICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZGV0YWlscy1pdGVtXCI+PC9kaXY+XHJcbiAgICAgICAgICAgPGRpdiBjbGFzcz1cImRldGFpbHMtaXRlbVwiPjwvZGl2PlxyXG4gICAgICAgICAgIDxkaXYgY2xhc3M9XCJkZXRhaWxzLWl0ZW1cIj48L2Rpdj5cclxuICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgPGRpdiBjbGFzcyA9XCJkZXRhaWxzLXJvd1wiPlxyXG4gICAgICAgICAgIDxkaXYgY2xhc3M9XCJkZXRhaWxzLWl0ZW1cIj48L2Rpdj5cclxuICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZGV0YWlscy1pdGVtXCI+PC9kaXY+XHJcbiAgICAgICAgICAgPGRpdiBjbGFzcz1cImRldGFpbHMtaXRlbVwiPjwvZGl2PlxyXG4gICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgIDwvZGl2PlxyXG4gICAgICA8L2Rpdj5gO1xyXG4gIH0pKCk7XHJcblxyXG4gIGNvbnN0IHNlYXJjaFBsYWNlID0gKCgpID0+IHtcclxuICAgIGNvbnN0IGZvcm0gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImZvcm1cIik7XHJcbiAgICBjb25zdCBzZWFyY2ggPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInNlYXJjaFwiKTtcclxuXHJcbiAgICBmb3JtLmFkZEV2ZW50TGlzdGVuZXIoXCJzdWJtaXRcIiwgKGUpID0+IHtcclxuICAgICAgQVBJRGF0YUhhbmRsaW5nKHNlYXJjaC52YWx1ZSk7XHJcbiAgICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgIH0pO1xyXG4gIH0pKCk7XHJcblxyXG4gIGNvbnN0IGRpc3BsYXlDdXJyZW50Rm9yZWNhc3REYXRhID0gKGRhdGEpID0+IHtcclxuICAgIGNvbnN0IGxvY2F0aW9uID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJsb2NhdGlvblwiKTtcclxuICAgIGNvbnN0IGNvbmRpdGlvbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiY29uZGl0aW9uXCIpO1xyXG4gICAgY29uc3QgdGVtcEMgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInRlbXAtY1wiKTtcclxuICAgIGNvbnN0IGljb24gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImljb25cIik7XHJcblxyXG4gICAgbG9jYXRpb24udGV4dENvbnRlbnQgPSBkYXRhLm5hbWU7XHJcbiAgICBjb25kaXRpb24udGV4dENvbnRlbnQgPSBkYXRhLmNvbmRpdGlvbjtcclxuICAgIHRlbXBDLnRleHRDb250ZW50ID0gcGFyc2VJbnQoZGF0YS50ZW1wX2MpICsgXCLCsFwiO1xyXG4gICAgaWNvbi5zcmMgPSBgaHR0cHM6Ly9vcGVud2VhdGhlcm1hcC5vcmcvaW1nL3duLyR7ZGF0YS5pY29ufUA0eC5wbmdgO1xyXG4gIH07XHJcbiAgY29uc3QgZGlzcGxheTEyaEZvcmVjYXN0RGF0YSA9IChkYXRhMTJoKSA9PiB7XHJcbiAgICBjb25zdCBkaXZzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5mb3JlY2FzdC0xMmhyLWRpdlwiKTtcclxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgNTsgaSsrKSB7XHJcbiAgICAgIGRpdnNbXHJcbiAgICAgICAgaVxyXG4gICAgICBdLmlubmVySFRNTCA9IGA8cD4ke2RhdGExMmgudGltZVtpXX08L3A+PGltZyBzcmM9XCJodHRwczovL29wZW53ZWF0aGVybWFwLm9yZy9pbWcvd24vJHtkYXRhMTJoLmljb25baV19QDJ4LnBuZ1wiLz48cD4ke2RhdGExMmgudGVtcF9jW2ldfcKwPC9wPmA7XHJcbiAgICB9XHJcbiAgfTtcclxuICBjb25zdCBkaXNwbGF5RGV0YWlsZWREYXRhID0gKGRldGFpbGVkRGF0YSkgPT4ge1xyXG4gICAgY29uc3QgZGl2cyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIuZGV0YWlscy1pdGVtXCIpO1xyXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBkZXRhaWxlZERhdGEua2V5cy5sZW5ndGg7IGkrKykge1xyXG4gICAgICBkaXZzW2ldLmlubmVySFRNTCA9IGA8cD4ke2RldGFpbGVkRGF0YS5rZXlzW2ldfTwvcD5cclxuICAgICAgPHA+JHtkZXRhaWxlZERhdGEudmFsdWVzW2ldfTwvcD5gO1xyXG4gICAgfVxyXG4gIH07XHJcbiAgY29uc3QgbG9hZEluZGljYXRvciA9IChzdGF0ZSkgPT4ge1xyXG4gICAgY29uc3QgbG9hZGVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJsb2FkZXItY29udGFpbmVyXCIpO1xyXG4gICAgY29uc29sZS5sb2cobG9hZGVyKTtcclxuXHJcbiAgICBpZiAoc3RhdGUgPT09IFwiYWN0aXZlXCIpIHtcclxuICAgICAgbG9hZGVyLmNsYXNzTGlzdC5hZGQoXCJhY3RpdmVcIik7XHJcbiAgICB9IGVsc2UgaWYgKHN0YXRlID09PSBcImRvbmVcIikge1xyXG4gICAgICBsb2FkZXIuY2xhc3NMaXN0LnJlbW92ZShcImFjdGl2ZVwiKTtcclxuICAgIH1cclxuICB9O1xyXG5cclxuICByZXR1cm4ge1xyXG4gICAgZGlzcGxheUN1cnJlbnRGb3JlY2FzdERhdGEsXHJcbiAgICBkaXNwbGF5MTJoRm9yZWNhc3REYXRhLFxyXG4gICAgZGlzcGxheURldGFpbGVkRGF0YSxcclxuICAgIGxvYWRJbmRpY2F0b3IsXHJcbiAgfTtcclxufSkoKTtcclxuXHJcbmV4cG9ydCB7IFVJTWFuYWdlciB9O1xyXG4iLCJpbXBvcnQgeyBVSU1hbmFnZXIgfSBmcm9tIFwiLi9VSVwiO1xyXG5cclxuY29uc3QgZ2V0QVBJID0gYXN5bmMgKHNlYXJjaFZhbHVlKSA9PiB7XHJcbiAgdHJ5IHtcclxuICAgIFVJTWFuYWdlci5sb2FkSW5kaWNhdG9yKFwiYWN0aXZlXCIpO1xyXG4gICAgY29uc3QgW3Jlc3BvbnNlLCByZXNwb25zZTJdID0gYXdhaXQgUHJvbWlzZS5hbGwoW1xyXG4gICAgICBmZXRjaEN1cnJlbnRXZWF0aGVyKCksXHJcbiAgICAgIGZldGNoMTJoV2VhdGhlcigpLFxyXG4gICAgXSk7XHJcbiAgICBVSU1hbmFnZXIubG9hZEluZGljYXRvcihcImRvbmVcIik7XHJcblxyXG4gICAgcmV0dXJuIHsgcmVzcG9uc2UsIHJlc3BvbnNlMiB9O1xyXG4gIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICBjb25zb2xlLmxvZyhlcnJvcik7XHJcbiAgfVxyXG5cclxuICBpZiAoIXNlYXJjaFZhbHVlKSB7XHJcbiAgICBzZWFyY2hWYWx1ZSA9IFwibG9uZG9uXCI7XHJcbiAgfVxyXG5cclxuICBhc3luYyBmdW5jdGlvbiBmZXRjaEN1cnJlbnRXZWF0aGVyKCkge1xyXG4gICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChcclxuICAgICAgYGh0dHBzOi8vYXBpLm9wZW53ZWF0aGVybWFwLm9yZy9kYXRhLzIuNS93ZWF0aGVyP3E9JHtzZWFyY2hWYWx1ZX0mYXBwaWQ9OGMzN2EwZGUzZDBmMzc2NDY5NWRmNjIyY2Y3MWZhMWUmdW5pdHM9bWV0cmljYCxcclxuICAgICAgeyBtb2RlOiBcImNvcnNcIiB9XHJcbiAgICApO1xyXG4gICAgcmV0dXJuIGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcclxuICB9XHJcbiAgYXN5bmMgZnVuY3Rpb24gZmV0Y2gxMmhXZWF0aGVyKCkge1xyXG4gICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChcclxuICAgICAgYGh0dHBzOi8vYXBpLm9wZW53ZWF0aGVybWFwLm9yZy9kYXRhLzIuNS9mb3JlY2FzdD9xPSR7c2VhcmNoVmFsdWV9JmFwcGlkPThjMzdhMGRlM2QwZjM3NjQ2OTVkZjYyMmNmNzFmYTFlJnVuaXRzPW1ldHJpY2AsXHJcbiAgICAgIHsgbW9kZTogXCJjb3JzXCIgfVxyXG4gICAgKTtcclxuICAgIHJldHVybiBhd2FpdCByZXNwb25zZS5qc29uKCk7XHJcbiAgfVxyXG59O1xyXG5leHBvcnQgeyBnZXRBUEkgfTtcclxuIiwiaW1wb3J0IHsgZ2V0QVBJIH0gZnJvbSBcIi4vQVBJXCI7XHJcbmltcG9ydCB7IFVJTWFuYWdlciB9IGZyb20gXCIuL1VJXCI7XHJcbmltcG9ydCB7IEFQSURhdGFIYW5kbGluZyB9IGZyb20gXCIuL0FQSURhdGFIYW5kbGluZ1wiO1xyXG5cclxuQVBJRGF0YUhhbmRsaW5nKFwiTG9uZG9uXCIpO1xyXG4iXSwibmFtZXMiOlsiQVBJRGF0YUhhbmRsaW5nIiwiYXN5bmMiLCJzZWFyY2hWYWx1ZSIsImRhdGEiLCJnZXRBUEkiLCJjdXJyZW50V2VhdGhlckRhdGEiLCJyZXNwb25zZSIsIndlYXRoZXJEYXRhMTJociIsInJlc3BvbnNlMiIsInVzZWRDdXJyZW50V2VhdGhlckRhdGEiLCJuYW1lIiwiY29uZGl0aW9uIiwidGVtcF9jIiwiaWNvbiIsIndlYXRoZXIiLCJkZXNjcmlwdGlvbiIsIm1haW4iLCJ0ZW1wIiwiVUlNYW5hZ2VyIiwiZGlzcGxheUN1cnJlbnRGb3JlY2FzdERhdGEiLCJ1c2VkV2VhdGhlckRhdGExMmhyIiwidGltZSIsImkiLCJsaXN0IiwibGVuZ3RoIiwicHVzaCIsInBhcnNlSW50IiwiZHRfdHh0Iiwic3BsaXQiLCJkaXNwbGF5MTJoRm9yZWNhc3REYXRhIiwidXNlZERldGFpbGVkRGF0YSIsImtleXMiLCJ2YWx1ZXMiLCJmZWVsc19saWtlIiwiaHVtaWRpdHkiLCJwcmVzc3VyZSIsInRlbXBfbWF4IiwidGVtcF9taW4iLCJkaXNwbGF5RGV0YWlsZWREYXRhIiwiY29uc29sZSIsImxvZyIsImRvY3VtZW50IiwiZ2V0RWxlbWVudEJ5SWQiLCJpbm5lckhUTUwiLCJmb3JtIiwic2VhcmNoIiwiYWRkRXZlbnRMaXN0ZW5lciIsImUiLCJ2YWx1ZSIsInByZXZlbnREZWZhdWx0IiwibG9jYXRpb24iLCJ0ZW1wQyIsInRleHRDb250ZW50Iiwic3JjIiwiZGF0YTEyaCIsImRpdnMiLCJxdWVyeVNlbGVjdG9yQWxsIiwiZGV0YWlsZWREYXRhIiwibG9hZEluZGljYXRvciIsInN0YXRlIiwibG9hZGVyIiwiY2xhc3NMaXN0IiwiYWRkIiwicmVtb3ZlIiwiUHJvbWlzZSIsImFsbCIsImZldGNoIiwibW9kZSIsImpzb24iLCJmZXRjaEN1cnJlbnRXZWF0aGVyIiwiZmV0Y2gxMmhXZWF0aGVyIiwiZXJyb3IiXSwic291cmNlUm9vdCI6IiJ9